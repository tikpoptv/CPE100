#include <stdio.h>

int main() {
    // ประกาศตัวแปรชนิด int เพื่อรับค่าจากผู้ใช้
    int num;

    // แสดงข้อความ "Enter a number: " เพื่อรอรับค่าจากผู้ใช้
    printf("Enter a number: ");

    // รับค่าที่ผู้ใช้ป้อนเข้ามาและเก็บในตัวแปร num
    scanf("%d", &num);

    // ประกาศและกำหนดค่าเริ่มต้นให้กับตัวแปร count และ i
    int count = 0, i = 0;

    // เริ่มการวนลูป while จนกว่า i จะเท่ากับหรือน้อยกว่า num
    while (i <= num) {
        // ประกาศและกำหนดค่าเริ่มต้นให้กับตัวแปร isPrime เป็น 1 (ถือว่าเป็นจำนวนเฉพาะ)
        int isPrime = 1;

        // ตรวจสอบว่า i เป็นเลขน้อยกว่าหรือเท่ากับ 1 หรือไม่
        if (i <= 1) {
            // ถ้า i น้อยกว่าหรือเท่ากับ 1 จะไม่ใช่จำนวนเฉพาะ
            isPrime = 0;
        } else {
            // หาก i มากกว่า 1 จะทำการตรวจสอบว่า i เป็นจำนวนเฉพาะหรือไม่
            // โดยวนลูป while จนกว่า b จะเท่ากับหรือน้อยกว่ารากที่สองของ i
            int b = 2;
            while (b * b <= i) {
                // ถ้า i หาร b ลงตัว แสดงว่า i ไม่ใช่จำนวนเฉพาะ
                if (i % b == 0) {
                    isPrime = 0;
                    break; // ออกจากลูป while
                }
                b++; // เพิ่มค่า b เพื่อทดสอบตัวต่อไป
            }
        }

        // ถ้า i เป็นจำนวนเฉพาะ
        if (isPrime) {
            // แสดงค่า i และเพิ่มค่า count
            printf("%d ", i);
            count++;

            // ถ้า count ถึง 10 หรือเป็นเท่ากับคู่ที่สิบ
            if (count % 10 == 0) {
                // ขึ้นบรรทัดใหม่
                printf("\n");
            }
        }

        // เพิ่มค่า i เพื่อทดสอบตัวต่อไป
        i++;
    }

    // ส่งค่า 0 กลับเป็นสัญลักษณ์ของการทำงานถูกต้อง
    return 0;
}
